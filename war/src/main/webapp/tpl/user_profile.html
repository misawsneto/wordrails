<div id="user-profile" class="hbox" ng-cloak>
	<!-- cover container -->
	<div ng-if="showProfile">
		<div class="profile-cover abstract-bg bg-cover pos-rlt" back-img-cover="{{person.coverLargeId}}">
			<div class="cover-abstract-mask ng-scope" ng-if="!person.coverLargeId">
			</div>
			<div id="cover-image-button" style="overflow:hidden;" 
			 class="pos-abt left-0 bottom-0 m-l-md m-b-md wrapper-sm" ng-if="person.id == app.initData.person.id">
				<i class="mdi mdi-camera text-3x icon-text-shadow v-middle p-r-xs"></i>
				<span class="p-r-xs text-lg" style="text-shadow:1px 1px 1px #000; vertical-align: sub;">
					Trocar imagem de capa
				</span>
				<div id="image-button" class="">
					<input id="image-upload" type="file" nv-file-select="" uploader="cover" name="contents" accept="image/*"/>
				</div>	
			</div>
		</div>
		<div id="profile-buttons" class="pos-abt wrapper profile-buttons-cover">
			<md-button class="md-fab custom-fab-button text-lg animated zoomIn" 
			tooltip="Editar perfil" tooltip-placement="left" tooltip-append-to-body="true" tooltip-popup-delay="700"
			ng-if="person.id == app.initData.person.id" 
			ng-click="editProfile()">
			<i class="mdi mdi-pencil"></i>
		</md-button>
	</div>
	<div id="editing-user-profile" class="user-details block-600 m-auto animated zoomIn with-cover">
		<div back-img="{{person.imageMediumId}}" class="bg-cover box-shadow2 bg-img-xxl bg-cover-round m-b m-auto b b-3x b-white" title="{{person.name}}">
			<div id="image-button-wrapper" ng-if="person.id == app.initData.person.id">
				<div id="image-button" class="custom-btn border-radius-50" style="width: 194px; height: 194px;">
					<i class="mdi mdi-pencil text-4x text-white image-edit" style="margin: 75px;"></i>
					<input id="image-upload" type="file" nv-file-select="" uploader="image" name="contents" accept="image/*"/>
				</div>
			</div>
		</div>
		<div class="m-t-sm font-bold wrapper-xs text-center" ng-class="{'text-4x': !person.coverLargeId, 'text-3x': person.coverLargeId}">
			{{person.name}}
		</div>
	</div>
	<div class="user-bio block-600 m-auto font-thin text-2x text-center m-b-lg">
		{{person.bio}}
	</div>
</div>
<!-- /conver container -->

<!-- divider -->
<div ng-if="postViews && postViews.length > 0 && showProfile">
	<div class="m-t b-t b-drk w-full"></div>
	<div class="header m-auto text-center text-u-c text-lg">
		<span class="header-title p-l p-r">
			Not√≠cias
		</span>
	</div>
</div>

<!-- posts & recommendation -->
<div infinite-scroll="paginate()" infinite-scroll-distance="1">
	<!-- posts -->
	<div class="block-800 m-auto m-t-lg m-b-lg" ng-if="postViews && postViews.length > 0 && showProfile">
		<ul class="b-none no-padding m-b-none ls-style-none">
			<li ng-repeat="postView in postViews">
				<div ng-class="{'b-t': !$first}"></div>
				<div class="m-b panel-card panel animated zoomIn clear p-t-sm padder-v padder-md post-list news-item" angular-ripple ng-click="app.setNowReading(postView, postViews, null, 'app.user')">
					<!-- image -->
					<a class="block-image m-l m-t" ng-if="postView.imageMediumId" >
            <div class="cell-wrap r r-2x" ng-style="getBackgroundImage(postView, 'md')">
            </div>
          </a>
					<!-- /image -->
					<!-- /content -->
					<div class="m-t-sm" ng-class="{'content-block': postView.imageMediumId}">
						<span class="no-radius normal p-xxs topper text-md bg-custom-primary" ng-if="postView.topper">{{postView.topper}}</span>
						<a  class="h3 font-bold m-b m-t-sm block">
							{{postView.title}}
						</a>
						<div class="text-lg font-thin">
							{{postView.snippet | characters:170}}
						</div>
						<div class="m-t">
							<div class="display-t-c">
								<a >
									<div back-img="{{postView.authorSmallImageId}}" class="bg-cover bg-img bg-cover-round" title="postView.authorName"></div>
								</a>
							</div>
							<div class="display-t-c p-l-sm v-middle">
								<a ng-click="app.goToProfile($event, postView.authorUsername)" class="a-custom-primary link link link--accent link--darken">
									{{postView.authorName}}
								</a>
								<br>
								<span class="text-sm">
									<span class="">
										<span class="readingTime">{{postView.date | fromNow}}</span>
										<div class="inline text-muted p-l-lg text-u-c" ng-if="postView.authorId == app.initData.person.id">
											<a ng-click="app.goToEditPost(postView.postId, $event)"
											 class="text-muted p-r underline-hover">editar</a>
											<a class="text-muted underline-hover" ng-click="app.openDeletePost(postView.postId, $event);
											">remover</a>
										</div>
									</span>
								</span>
							</div>
						</div>
					</div>
					<!-- /content -->
				</div>    
			</li>
		</ul>
	</div>
	<!-- /posts -->

	<!-- <div class="clear wrapper m-t m-b bg-light dk b-t b-b" ng-if="recommendations && showProfile">
		<div class="block-800 m-auto text-md text-u-c m-b-md p-l font-bold">
			recomendados por {{person.name}}
		</div>
		<div class="block-800 m-auto">
			<div class="col-sm-6" ng-repeat="recommendation in recommendations">
				<div class="m-t-sm m-b-md">
					<div clamp="1" class="text-md">
						<a class="underline-hover">{{recommendation.post.title}}</a>
					</div>
					<div clamp="1" class="font-thin">
						{{recommendation.post.body | stripHtml}}
					</div>
				</div>
			</div>
		</div>
	</div> -->

	<!-- pages -->
	<div class="block-800 m-auto m-t-lg m-b-lg" ng-if="pages && showProfile">
		<ul class="b-none no-padding m-b-none ls-style-none">
			<li ng-repeat="postView in pages">
				<div ng-class="{'b-t': !$first || (!recommendations || recommendations.length == 0)}"></div>
				<div class="m-b panel-card panel animated zoomIn m-b clear p-t-sm padder-v padder-md post-list news-item" angular-ripple ng-click="app.setNowReading(postView, postViews, null, 'app.user')">
					<!-- image -->
					<a class="block-image m-l m-t" ng-if="postView.imageMediumId" >
            <div class="cell-wrap r r-2x" ng-style="getBackgroundImage(postView, 'md')">
            </div>
          </a>
					<!-- /image -->
					<!-- /content -->
					<div class="m-t-sm" ng-class="{'content-block': postView.imageMediumId}">
						<span class="no-radius normal p-xxs topper text-md bg-custom-primary" ng-if="postView.topper">{{postView.topper}}</span>
						<a  class="h3 font-bold m-b m-t-sm block">
							{{postView.title}}
						</a>
						<div class="text-lg font-thin">
							{{postView.snippet | characters:170}}
						</div>
						<div class="m-t">
							<div class="display-t-c">
								<a >
									<div back-img="{{postView.authorSmallImageId}}" class="bg-cover bg-img bg-cover-round" title="postView.authorName"></div>
								</a>
							</div>
							<div class="display-t-c p-l-sm v-middle">
								<a ng-click="app.goToProfile($event, postView.authorUsername)" class="a-custom-primary link link link--accent link--darken">
									{{postView.authorName}}
								</a>
								<br>
								<span class="text-sm">
									<span class="">
										<span class="readingTime">{{postView.date | fromNow}}</span>
										<div class="inline text-muted p-l-lg text-u-c" ng-if="postView.authorId == app.initData.person.id">
											<a ng-click="app.goToEditPost(postView.postId, $event)"
											 class="text-muted p-r underline-hover">editar</a>
											<a class="text-muted underline-hover" ng-click="app.openDeletePost(postView.postId, $event);
											">remover</a>
										</div>
									</span>
								</span>
							</div>
						</div>
					</div>
					<!-- /content -->
				</div>    
			</li>
		</ul>
	</div>
	<!-- /pages -->

</div>

<div ui-view></div>
</div>