<div class="wrapper-md">
  <p>
  <!-- <a tooltip="criar nova perspectiva" ui-sref="app.scaffold.perspectives_create" class="btn m-b-xs btn-lg btn-default btn-addon">
    <i class="fa fa-plus"></i>Nova Perspectiva
  </a> -->
</p>
<div class="panel panel-default text-md">
  <div class="panel-heading">
    Todas as perspetivas
  </div>
  <div class="panel-body b-b b-light">
    Pesquisar: <input id="filter" type="text" class="form-control w-lg inline m-r m-l-sm"/>
  </div>
  <div>
    <table class="table m-b-none" ui-jq="footable" data-filter="#filter" data-page-size="100">
      <thead>
        <tr>
          <th data-toggle="true">
            Nome
          </th>
          <th data-toggle="true">
            Estação
          </th>
          <th data-hide="phone" style="width: 160px;" class="text-center" data-sort-ignore="true">
            <i class="fa fa-cog"></i>
          </th>
        </tr>
      </thead>
      <tbody>
        <tr ng-repeat = "perspective in perspectives">
          <td>{{perspective.name}}</td>
          <td>{{perspective.station.name}}</td>
          <td data-value="1" class="text-center">
            <a href tooltip="gerenciar a perspectiva" ui-sref="app.scaffold.perspectives_edit({perspectiveId: perspective.id})"><i class="fa fa-fw fa-sitemap text-grey"></i></a>
            <a href tooltip="renomear" ng-click="openModal('edit_perspective.html', null, taxonomy.id)" class="m-l-sm"><i class="fa fa-fw fa-pencil text-grey"></i></a>
            <a href tooltip="remover" ng-click="openModal('delete_perspective.html', null, taxonomy.id)" class="m-l-sm"><i class="fa fa-fw fa-trash-o text-danger"></i></a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
</div>
<script type="text/ng-template" id="edit_perspective.html">
  <form ng-submit="editTaxonomy(newName)">
    <div class="modal-header">
      <h3 class="modal-title">Editar taxonomia</h3>
    </div>
    <div class="modal-body">
      <input ng-model="newName" class="form-control w-md" placeholder="Novo nome">
    </div>
    <div class="modal-footer">                  
      <a class="btn btn-default" ng-click="cancelModal()">Cancelar</a>
      <button type="submit" class="btn btn-primary">Alterar</button>
    </div>
  </form>
</script>

<script type="text/ng-template" id="delete_perspective.html">
  <form ng-submit="deleteTaxonomy()">
    <div class="modal-header">
      <h3 class="modal-title">Remover taxonomia</h3>
    </div>
    <div class="modal-body">
      Tem certeza que deseja remover a taxonomia?
    </div>
    <div class="modal-footer">                  
      <a class="btn btn-default" ng-click="cancelModal()">Cancelar</a>
      <button type="submit" class="btn btn-danger">Remover</button>
    </div>
  </form>
</script>