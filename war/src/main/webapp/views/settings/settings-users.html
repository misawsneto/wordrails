<div class="md-primary-hue-1 background md-whiteframe-z1 p-xl ng-scope pos-fix w-full top-0 left-0 z-index-n-1">
  <div class="p-xl">
  </div>
</div>

<div class="pos-abt w-full top-0 bottom-0 left-0">
  <div class="hbox">

    <div class="col animated zoomIn">
      <div class="vbox p-t-lg p-r-xxl p-l-xxl">
      
        <div class="search-with-filter m-r-sm m-l-sm p-sm md-background-hue-3 background md-whiteframe-z1 pos-rlt z-index-2">
          <input placeholder="{{'titles.SEARCH' | translate }}" class="ph-dk w-full b-n p-sm w-full b-n text-lg bg-t">

          <!-- dropdown filter -->
          <div class="pos-abt top-0 right-0 m-t pull-right" uib-dropdown auto-close="disabled" is-open="advancedMenuOpen">
            <md-button uib-dropdown-toggle class="md-icon-button" aria-label="More" popover-trigger="click">
              <i class="icon mdi-content-filter-list i-24" md-style="{'color': 'default'}" ></i>
            </md-button>
            <div uib-dropdown-menu role="menu" aria-labelledby="single-button" class="dropdown-menu-scale pull-right advanced-search-menu m-h-auto p-sm w-400 default-bg">
                <!-- <time-date-picker orientation="true" class="m-h-auto" ng-model="dateValue"></time-date-picker> -->
              <div class="arrow"></div>
              <div>
                <div class="pull-right">
                  <a ng-click="advancedMenuOpen = false;"><i class="mdi mdi-navigation-close"></i></a>
                </div>
                <div class="p-sm">
                  <div class="m-b-sm text-u-c">
                    Filtar por estação
                  </div>
                  <div class="m-b">
                    <md-menu>
                      <!-- Trigger element is a md-button with an icon -->
                     <md-button ng-click="$mdOpenMenu($event)" class="md-button text-u-c" aria-label="Open sample menu">
                       <!-- <md-icon md-font-set="material-icons" class="ng-scope ng-isolate-scope material-icons"> phone </md-icon> -->
                       <i class="mdi mdi2-radio-tower"></i>
                        {{'titles.STATIONS' | translate}}
                     </md-button>
                     <md-menu-content class="w-lg">
                      <div class="p">
                       <ul class="list-unstyled">
                         <li ng-repeat="perm in stationsPermissions">
                          <md-checkbox ng-model="perm.filter" aria-label="{{perm.stationName}}">
                           {{ perm.stationName }}
                           </md-checkbox>
                         </li>
                       </ul>
                      </div>
                     </md-menu-content>
                    </md-menu>
                  </div>
                  <div class="m-b-lg text-u-c">
                    Filtar por data
                  </div>
                  <div class="text-center">
                    <md-input-container style="width: 140px" class="no-margin m-b-sm">
                      <label translate="titles.START_DATE">Data inicial</label>
                      <input type="date" mdp-date-picker ng-model="filter.initialDate" />
                    </md-input-container>
                    <md-input-container style="width: 140px" class="no-margin m-b-sm">
                      <label translate="titles.END_DATE">Data final</label>
                      <input type="date" mdp-date-picker ng-model="filter.finalDate" />
                    </md-input-container>
                  </div>
                <!-- -->
                </div>
              </div>
            </div>
          </div>
          <!-- /dropdown -->
        </div>
        <!-- /search -->
        <div class="row-row">
          <div class="cell">
            <div class="cell-inner p-r-sm p-l-sm">
              <div class="md-background-hue-1 background w-full m-h-auto pos-rlt md-whiteframe-z2 " style="overflow: auto;
    max-height: 100%;">
    			<!-- search results -->
                <div class="min-h-400">
                  <div class="table-responsive o-visible text-base">
										<table class="table b-t b-light">
											<thead>
												<tr>
													<th style="width:15px;">
														<md-checkbox class="no-margin" type="checkbox" ng-model="toggleSelectValue" ng-change="toggleAll(toggleSelectValue)">
														</md-checkbox>
													</th>
													<th>usuários</th>
													<th class="text-center">último login</th>
													<th style="max-width:115px;" class="text-center">
														ativar/desativar
													</th>
													<th style="max-width:115px;" class="text-center">
														administrador
													</th>
													<th style="width:30px;"></th>
												</tr>
											</thead>
											<tbody>
												<tr ng-repeat="person in persons" ng-click="loadPerson(person)">
													<td>
														<md-checkbox class="no-margin p-t-sm" ng-if="person.id != app.person.id"
														 type="checkbox" ng-model="person.selected" ng-click="app.stopPropagation($event)">
														</md-checkbox>
													</td>
													<td class="clearfix">
							              <span class="pull-left thumb-sm avatar m-r">
															<div ng-style="{{person.id | getImagesPerson:'small':'PROFILE_PICTURE':true}}" style="height: 40px;" class="bg-cover img-responsive img-circle thumb md-whiteframe-z1"></div>
							              </span>
								              <span class="clear">
								                <span class="text-md font-bold">{{person.name}}</span>
								                <div class="text-muted clear text-ellipsis">{{person.username}} | {{person.email}}</div>
								              </span>
													</td>
													<td class="text-center" ng-if="!person.lastLogin"> - </td>
													<td class="text-center" ng-if="person.lastLogin">{{person.lastLogin | fromNow3}}</td>
													<td class="text-center">
														<div ng-if="person.id != app.person.id" class="dropdown hidden-sm" dropdown ng-click="app.stopPropagation($event)">
														 	<md-switch class="p-t-sm no-margin" type="checkbox" ng-change="app.enableDisablePerson(person)" ng-model="person.user.enabled">
											            	</md-switch>
														</div>
													</td>
													<td class="text-center">
														<md-checkbox class=" p-t-sm" ng-if="person.id != app.person.id" 
														type="checkbox" ng-model="person.selected" ng-click="app.stopPropagation($event)">
														</md-checkbox>
													</td>
													<td>
														<div ng-if="person.id != app.person.id" class="p-t-sm dropdown hidden-sm" dropdown ng-click="app.stopPropagation($event)">
															<a href angular-ripple class="dropdown-toggle border-radius-50 i-24 mdi-navigation-more-vert mdi" dropdown-toggle>
															</a>
															<!-- dropdown -->
															<ul class="dropdown-menu dropdown-menu-scale animated w-sm pull-right">
																<li > <a href> Reconfigurar a senha </a> </li>
																<!-- <li class="divider"></li> -->
																<li> <a ng-click="openDeletePersonRole(role.id);"> Alterar permissões </a> </li>
															</ul>
															<!-- / dropdown -->
														</div>
													</td>
												</tr>
											</tbody>
										</table>
									</div> 
                </div>
              </div>
              <!-- /search results -->
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- <md-sidenav class="md-background-hue-1 w-xl background md-sidenav-right md-whiteframe-z2 theming" md-component-id="advanced-search"> -->
<script type="text/ng-template" id="advanced-search-popover.html">
    <!-- primary -->
  <div id="advanced-search-popover" class="m-h-auto md-background-default background p w-400 default-bg" style="margin-left: -106px;">
    <!-- <time-date-picker orientation="true" class="m-h-auto" ng-model="dateValue"></time-date-picker> -->
    <md-content>
      <md-input-container style="width: 140px" class="no-margin m-b-sm">
        <label translate="titles.START_DATE">Data inicial</label>
        <input type="date" mdp-date-picker ng-model="currentDate1" />
      </md-input-container>
      <md-input-container style="width: 140px" class="no-margin m-b-sm">
        <label translate="titles.START_TIME">Hora inicial</label>
        <input type="time" mdp-time-picker ng-model="currentTime1" />
      </md-input-container>
      <!-- -->
      <md-input-container style="width: 140px" class="no-margin m-b-sm">
        <label translate="titles.END_DATE">Data final</label>
        <input type="date" mdp-date-picker ng-model="currentDate2" />
      </md-input-container>
      <md-input-container style="width: 140px" class="no-margin m-b-sm">
        <label translate="titles.END_TIME">Hora final</label>
        <input type="time" mdp-time-picker ng-model="currentTime2" />
      </md-input-container>
    <!-- -->
    </md-content>
  </div>
</script>
  <!-- /background -->
<!-- </md-sidenav> -->
  
  <md-button aria-label="menu" class="md-fab md-accent pos-fix right-0 bottom-0 m-r-xxl m-b-lg"
    ui-sref="app.post">
    <i class="mdi-editor-mode-edit i-24"></i>
  </md-button>
