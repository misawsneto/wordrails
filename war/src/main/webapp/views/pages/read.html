<div ng-if="app.hasImage(post) && post.imageLandscape" preload-bg-image="{{app.getImageLink(post, 'large')}}" class="display-table animated5x fadeIn w-full bg-cover m-b-xl md-whiteframe-z2 h-400 text-center" style="margin-top: -32px; background-position: 50% 50%;">
</div>

<div class="container">
  <div class="row">
      <div class="col l12">
          <div class="news-single z-depth-1 card">
              <!-- News Single Image -->
              <div alt="news Image" ng-if="app.hasImage(post) && !post.imageLandscape" preload-bg-image="{{app.getImageLink(post, 'large')}}" class="responsive-img h-400 bg-cover"></div>
              <!-- News Single Description -->
              <div class="col l8 offset-l2">
                  <!-- News Time -->
                  <!--<div class="news-time">The Village Guide  <i class="fa fa-clock-o"></i> 9 min ago </div>-->
                  <div class="m-v-md">
              			<a ui-sref="app.userprofile({username: post.author.username})">
			                <div class="inline m-r-sm user-avatar rounded w-56 bg-white inline pos-rlt text-center bg-cover" 
			                ng-style="app.getImagesPerson(post, post.author.id, 'small', 'PROFILE_PICTURE', true) " ng-class="{'md-primary-hue-1 background': !app.hasAuthorImage(post)}">
			                  <i ng-if="!app.hasAuthorImage(post)" class="mdi2-account i-32" style="top: 16%;position: relative;"></i>
			                </div>
			                <div class="inline v-t font-500 text-md p-t-sm">
			                	{{post.author.name}}
			                	<div class="text-base opacity-07">
			                			{{app.getLocalTime(post.date)}}
			                	</div>
			                </div>
			              </a>
                  </div>
                  <!-- News Title -->
                  <div class="news-title" ng-bind-html="post.title"></div>
                  <div class="fr-view" ng-bind-html="post.body"></div>
                  <div class="news-comment-shares p-t-lg p-b-sm">
                    <md-divider class="m-b-sm m-t"></md-divider>
                    <div class="p-b-xs">
                        <md-button ng-click="app.showSharesPostDialog($event, post)" style="width: 36px; height: 36px; padding: 6px; opacity: 0.6; margin-right: 0" class="not-trans md-icon-button pull-right" ng-style="{'background-color': actionButtonColors}"><i class="mdi2-share i-20"></i></md-button>
                        
                        <md-button ng-click="app.toggleBookmark(post)" style="width: 36px; height: 36px; padding: 6px;" class="not-trans md-icon-button pull-right" ng-style="app.isBookmarked(post) ? null : {'background-color': actionButtonColors, 'opacity': '0.6'}" ng-class="{'md-accent-default background': app.isBookmarked(post)}"><i class="mdi2-bookmark i-16"></i></md-button>

                        <span class="v-m p-v-sm m-r-sm pull-right">{{post.recommendsCount}}</span>
                        <md-button ng-click="app.toggleRecommend(post)" style="width: 36px; height: 36px; padding: 6px; margin-left: 0;" class="not-trans md-icon-button pull-right" ng-style="app.isRecommended(post) ? null : {'background-color': actionButtonColors, 'opacity': '0.6'}" ng-class="{'md-accent-default background': app.isRecommended(post)}"><i class="mdi2-heart i-16"></i></md-button>

                        <span class="v-m p-v-sm m-r-sm text-u-c text-lg" ng-style="{'color': app.getMaterialColor('myPrimary', '500')}"> {{'titles.COMMENTS' | translate}} â€¢ {{post.commentsCount}}</span>

                        <!--<md-button style="width: 36px; height: 36px; padding: 6px; opacity: 0.6;" class="not-trans md-icon-button pull-right" ng-style="{'background-color': actionButtonColors}" ng-click="app.loadComments(post);"><i class="mdi2-comment i-16"></i></md-button>-->
                    </div>
                </div>
                    <!-- Comment Title -->
                    <!--<div class="comment-title">Comments</div>
                    <!~~ Comment Share it button ~~>
                    <div class="clearfix"></div>-->
                    
                  <div class="p-v inline w-full">
                    <div class="pull-left user-avatar rounded w-50 bg-white pos-rlt background text-center bg-cover" ng-style="{'background-image': 'url(' + app.userImageSmall + ')', 'background-position': '50% 50%'}" ng-class="{'md-primary-hue-1': !app.userImageSmall}">
                      <i ng-if="!app.userImageSmall" class="mdi2-account i-20" style="top: 16%;position: relative;"></i>
                    </div>

                    <!--<md-button style="width: 36px; height: 36px; padding: 6px;" class="md-button not-trans m-0 md-icon-button pull-right md-accent-default background" ng-click="post.postComment(post, post.newComment)" ng-disabled="!post.newComment">
                      <i class="mdi2-send i-16"></i>
                    </md-button>-->
                    <div class="" style="margin-left: 60px;"> 
                      <textarea id="comment-box" msd-elastic class="p-sm text-md" style="min-height: 50px;" rows="1" ng-keydown="reloadMasonry()" ng-model="post.newComment" style="resize: none;" placeholder="{{'titles.COMMENT' | translate }}"></textarea>
                    </div>
                    <div class="text-right">
                      <md-button id="send-comment" class="m-h-0 m-v md-button not-trans md-accent-default background" ng-click="post.postComment(post, post.newComment)" ng-disabled="!post.newComment">
                        {{'titles.SEND' | translate}}
                      </md-button>
                    </div>
                  </div>

                    <ul >
                      <li ng-repeat="comment in post.comments">
                        <div class="p-v pos-rlt">
                          <div class="display-t-c inline p-h-xs">
                            <div ng-style="app.getUserImage(comment.author, 'small', 'PROFILE_PICTURE', true)" style="height: 50px;" class="bg-cover img-responsive img-circle thumb md-whiteframe-z1 text-center" ng-class="{'md-primary-hue-1 background': !app.hasProfilePicture(comment.author)}">
                              <i ng-if="!app.hasProfilePicture(comment.author)" style="line-height: 36px;" class="mdi2-account i-20"></i>
                            </div>
                          </div>
                          <div class="p-l-sm display-t-c v-m inline w-full text-md">
                            <div class="p-h-sm text-right pull-right">
                              <span class="text-base" am-time-ago="comment.date"></span>
                            </div>
                            <div class="text-md font-bold">{{comment.author.name}}</div>
                            {{comment.body}}
                          </div>
                        </div>
                        <md-divider style="margin-left: 60px;" ng-if="!$last" md-inset></md-divider>
                      </li>
                    </ul>
                    
              </div>
          </div>
      </div>
  </div>
</div>

<md-button aria-label="menu" class="md-fab md-accent pos-fix right-0 bottom-0 m-r-xxl m-b-lg animated" ng-class="{'fadeOut': !showScrollUp, 'fadeIn': showScrollUp}" ng-click="scrollToTop();">
  <!-- <md-tooltip md-direction="top">
    {{'titles.REMOVE_ALL' | translate}}
  </md-tooltip> -->
  <i class="mdi2-chevron-up i-32"></i>
</md-button>