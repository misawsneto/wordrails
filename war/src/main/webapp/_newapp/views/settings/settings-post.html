<div class="p-xs top-0 left-0 w-full pos-abt md-whiteframe-z1 md-primary-hue-1 background">
	<!-- menu -->
	<md-button class="pull-right md-icon-button" style="margin-top: 2px;" ng-click="toggleOptions()">
		<md-tooltip md-direction="top">
    	{{'settings.post.OPTIONS' | translate}}
  	</md-tooltip>
		<i class="mdi mdi2-menu i-20"></i>
	</md-button>
	<!-- /menu -->
	
	<!-- publish -->
	<div uib-dropdown class="inline pull-right" auto-close="disabled" is-open="postPublishMenuOpen">
		<md-button uib-dropdown-toggle class="pull-right font-bold visible-sm visible-md visible-lg" translate="titles.PUBLISH">
			Publicar
		</md-button>
		<md-button uib-dropdown-toggle class="pull-right md-icon-button visible-xs" style="margin: 5px 0 0 0;">
			<i class="mdi mdi2-send i-20"></i>
		</md-button>
		<div uib-dropdown-menu role="menu" aria-labelledby="single-button" class="animated2x zoomIn p-sm md-background-default background with-arrow z-index-5">
	  	<div class="arrow"></div>
      <md-content class="w-xxl">
	      <div class="pull-right">
	        <a ng-click="postPublishMenuOpen = false;"><i class="mdi mdi-navigation-close"></i></a>
	      </div>
	      <div class="p-xs m-b-sm m-t-sm l-h-1x text-base">
	      	{{'settings.post.menu.PUBLICATION_MSG' | translate}}
	      </div>
	      <md-button class="font-bold no-margin m-b-sm" translate="titles.SAVE_AS_DRAFT">
				</md-button>
				<div class="block p-l-xs">
					<span translate="titles.POST_STATE" class="inline"></span>: <span class="font-500 text-u-c">{{app.getStateText()}}</span>
				</div>
				<md-divider class="m-t-sm"></md-divider>
	      <div class="p-xs m-b m-t-sm l-h-1x text-sm">
	      	{{'settings.post.menu.AUTO_SAVE_MSG' | translate}}
	      </div>
	      <md-divider class="m-b-sm"></md-divider>
        <md-button class="pull-right font-bold no-margin" translate="titles.PUBLISH">
				</md-button>
      </md-content>
	  </div>
	</div>
	<!-- /publish -->

	<!-- left links-->
	<md-button aria-label="Open demo menu" class="md-icon-button" style="margin: 5px 0 0 0;" ng-click="showClearPostDialog($event)">
		<md-tooltip md-direction="top">
      	{{'settings.post.menu.CLEAR_POST' | translate}}
  	</md-tooltip>
  	<i class="mdi mdi2-delete i-20"></i>
	</md-button>

	<md-button aria-label="Open demo menu" class="md-icon-button" style="margin: 5px 0 0 0;" ng-click="showPostInfoDialog($event)">
		<md-tooltip md-direction="top">
      {{'settings.post.menu.INFO' | translate}}
    	</md-tooltip>
  	<i class="mdi mdi2-information-outline i-20"></i>
	</md-button>

  <!-- date button and dropdown -->
	<div uib-dropdown class="inline" auto-close="disabled" is-open="postDateMenuOpen">
		<md-button ng-click="resetPostDate();" uib-dropdown-toggle aria-label="Open demo menu" class="md-icon-button" style="margin: 5px 0 0 0;">
				<md-tooltip md-direction="top">
          {{'settings.post.menu.POST_DATE' | translate}}
        </md-tooltip>
	    <i class="mdi mdi2-calendar i-20"></i>
	  </md-button>
	  <div uib-dropdown-menu role="menu" aria-labelledby="single-button" class="animated2x zoomIn p-sm md-background-default background with-arrow z-index-5">
	  	<div class="arrow lft" ></div>
      <md-content class="w">
	      <div class="pull-right">
	        <a ng-click="postDateMenuOpen = false;"><i class="mdi mdi-navigation-close"></i></a>
	      </div>
	      <div class="p-xs m-b-md m-t-sm l-h-1x text-sm">
	      	{{'settings.post.POST_DATE_DESC' | translate}}
	      </div>
      	<md-input-container class="no-margin m-b-sm w-full">
          <label translate="settings.post.POST_DATE">Data inicial</label>
          <input type="date" mdp-date-picker ng-model="postDate" ng-change="changePostDate()"/>
        </md-input-container>
        <md-input-container class="no-margin m-b-sm w-full">
          <label translate="settings.post.POST_TIME">Hora inicial</label>
          <input type="time" mdp-time-picker ng-model="postDate" ng-change="changePostDate()" />
        </md-input-container>
        <md-button class="pull-right font-bold no-margin" translate="titles.SAVE">
					Salvar
				</md-button>
      </md-content>
	  </div>
  </div>
  <!-- /date button and dropdown -->

	<!-- schedule button and dropdown -->
	<div uib-dropdown class="inline" auto-close="disabled" is-open="postScheduleMenuOpen" ng-if="postState !== 'PUBLISHED'">
	  <md-button ng-click="resetScheduleDate();" uib-dropdown-toggle aria-label="Open demo menu" class="md-icon-button" style="margin: 5px 0 0 0;">
	  		<md-tooltip md-direction="top">
          {{'settings.post.menu.SCHEDULE_PUBLICATION' | translate}}
        </md-tooltip>
	    <i class="mdi mdi2-calendar-clock i-20"></i>
	  </md-button>
	  <div uib-dropdown-menu role="menu" aria-labelledby="single-button" class="animated2x zoomIn p-sm md-background-default background with-arrow z-index-5">
	  	<div class="arrow lft" ></div>
      <md-content class="w">
	      <div class="pull-right">
	        <a ng-click="postScheduleMenuOpen = false;"><i class="mdi mdi-navigation-close"></i></a>
	      </div>
	      <div class="p-xs m-b-md m-t-sm l-h-1x text-sm">
	      	{{'settings.post.SCHEDULED_DATE_DESC' | translate}}
	      </div>
      	<md-input-container class="no-margin m-b-sm w-full">
          <label translate="settings.post.SCHEDULED_DATE">Data inicial</label>
          <input type="date" mdp-date-picker ng-model="postScheduleDate" ng-change="changeScheduleDate(postScheduleDate);" />
        </md-input-container>
        <md-input-container class="no-margin m-b-sm w-full">
          <label translate="settings.post.SCHEDULED_TIME">Hora inicial</label>
          <input type="time" mdp-time-picker ng-model="postScheduleDate" ng-change="changeScheduleTime(postScheduleDate);" />
        </md-input-container>
        <md-button class="pull-right font-bold no-margin" translate="titles.SAVE" ng-click="showScheduleTime();">
			Salvar
		</md-button>
      </md-content>
	  </div>
  </div>
  <!-- /schedule button and dropdown -->

  <!-- auto delete button and dropdown -->
	<div uib-dropdown class="inline" auto-close="disabled" is-open="postDeleteMenuOpen">
		<md-button ng-click="resetDeleteDate();" uib-dropdown-toggle aria-label="Open demo menu" class="md-icon-button" style="margin: 5px 0 0 0;">
				<md-tooltip md-direction="top">
          {{'settings.post.menu.DELETE_DATE' | translate}}
        </md-tooltip>
	    <i class="mdi mdi2-calendar-remove i-20"></i>
	  </md-button>
	  <div uib-dropdown-menu role="menu" aria-labelledby="single-button" class="animated2x zoomIn p-sm md-background-default background with-arrow z-index-5">
	  	<div class="arrow lft" ></div>
      <md-content class="w">
	      <div class="pull-right">
	        <a ng-click="postDeleteMenuOpen = false;"><i class="mdi mdi-navigation-close"></i></a>
	      </div>
	      <div class="p-xs m-b-md m-t-sm l-h-1x text-sm">
	      	{{'settings.post.DELETE_DATE_DESC' | translate}}
	      </div>
      	<md-input-container class="no-margin m-b-sm w-full">
          <label translate="settings.post.DELETE_DATE">Data inicial</label>
          <input type="date" mdp-date-picker ng-model="postDeleteDate" ng-change="changeDeleteDate();"/>
        </md-input-container>
        <md-input-container class="no-margin m-b-sm w-full">
          <label translate="settings.post.DELETE_TIME">Hora inicial</label>
          <input type="time" mdp-time-picker ng-model="postDeleteDate" ng-change="changeDeleteDate();"/>
        </md-input-container>
        <md-button class="pull-right font-bold no-margin" translate="titles.SAVE">
			Salvar
		</md-button>
      </md-content>
	  </div>
  </div>
  <!-- /auto delete button and dropdown -->

	<!-- customize link and dropdown -->
	<div uib-dropdown class="inline" auto-close="disabled" is-open="postPermalinkMenuOpen">
		<md-button uib-dropdown-toggle aria-label="Open demo menu" class="md-icon-button" style="margin: 5px 0 0 0;">
			<md-tooltip md-direction="top">
        {{'settings.post.menu.CUSTOMIZE_LINK' | translate}}
      </md-tooltip>
	    <i class="mdi mdi2-link-variant i-20"></i>
	  </md-button>
	  <div uib-dropdown-menu role="menu" aria-labelledby="single-button" class="animated2x zoomIn p-sm md-background-default background with-arrow z-index-5">
	  	<div class="arrow lft" ></div>
      <md-content class="w-xxl">
	      <div class="pull-right">
	        <a ng-click="postPermalinkMenuOpen = false;"><i class="mdi mdi-navigation-close"></i></a>
	      </div>
	      <div class="p-xs m-b-md m-t-sm l-h-1x text-sm">
	      	{{'settings.post.CUSTOMIZE_LINK_DESC' | translate}}
	      </div>
	    <span class="pos-abt text-lg">/</span>
      	<md-input-container class="p-l no-margin m-b-sm w-full m-0 font-500 text-xs">
          <label class="m-l" translate="settings.post.menu.CUSTOMIZE_LINK"></label>
          <input ng-model="customizedLink.slug" />
        </md-input-container>
        <md-button class="pull-right font-bold no-margin" translate="titles.SAVE">
			Salvar
		</md-button>
      </md-content>
	  </div>
  </div>
  <!-- /customize link and dropdown -->

  <!-- <md-button aria-label="Open demo menu" class="md-icon-button" style="margin: 5px 0 0 0;">
  	<md-tooltip md-direction="top">
      {{'settings.post.menu.ATTACH_POST' | translate}}
    </md-tooltip>
    <i class="mdi mdi2-library-plus i-20"></i>
  </md-button> -->

  <md-button aria-label="Open demo menu" class="md-icon-button" style="margin: 5px 0 0 0;">
  	<md-tooltip md-direction="top">
      {{'settings.post.menu.NOTIFY_STATION_USERS' | translate}}
    </md-tooltip>
    <i class="mdi mdi2-bell-ring i-20"></i>
  </md-button>

  <md-button aria-label="Open demo menu" class="md-icon-button" style="margin: 5px 0 0 0;" ng-click="showClearPostDialog($event)">
		<md-tooltip md-direction="top">
      	{{'settings.post.menu.PREVIEW_POST' | translate}}
  	</md-tooltip>
  	<i class="mdi mdi2-eye i-20"></i>
	</md-button>
  <!-- /left links-->
</div>

<div class="pos-abt w-full top-0 bottom-0 left-0" style="margin-top: 56px;"> <!-- abs -->
  <div class="hbox">
    <div class="col"> <!-- col -->
      <div class="vbox"> <!-- vbox -->
        <div class="row-row"> <!-- row-row -->
          <div class="cell"> <!-- cell -->
            <div class="cell-inner"><!-- cell -->
							
							<img id="img-stub" ng-src="{{postFeaturedImage}}" class="z-index-n-1 pos-abt" style="opacity: 0">
							<div id="post-image-container" data-img="{{postFeaturedImage}}" class="pos-rlt m-h-auto bg-cover md-whiteframe-z2 m-b-md" ng-if="postFeaturedImage"  ng-class="{'w-full h-400': landscape, 'block-800 h-300 m-t': !landscape}"
							ng-style="{'background-image': 'url(' + postFeaturedImage + ')', 'background-position': app.imgToolsProps.x + '% ' + app.imgToolsProps.y + '%'}">
								<md-fab-speed-dial md-open="openImageOptions" md-direction="up" class="md-scale pull-right p-t p-r p-b pos-abt bottom-0 right-0">
								  <md-fab-trigger>
								    <md-button aria-label="Add..." class="md-fab md-warn md-mini">
								    	<i class="mdi mdi2-settings i-20"></i>
								    </md-button>
								  </md-fab-trigger>
								  <md-fab-actions>
								    <md-button aria-label="Add Group" class="md-fab md-raised md-mini" ng-click="toggleLandscape();">
								    	<md-tooltip md-direction="left">
								      	{{'settings.post.TOGGLE_LANDSCAPE' | translate}}
								  		</md-tooltip>
								    	<i class="mdi i-20" ng-class="{'mdi2-crop-landscape': !landscape, 'mdi2-crop-square': landscape}"></i>
								    </md-button>
								    <md-button aria-label="Add User" class="md-fab md-raised md-mini" ng-click="showImageCropDialog()">
								    	<md-tooltip md-direction="left">
								      	{{'settings.post.CROP_IMAGE' | translate}}
								  		</md-tooltip>
								    	<i class="mdi mdi2-crop i-20"></i>
								    </md-button>
								    <md-button aria-label="Add Group" class="md-fab md-raised md-mini" ng-click="showImageFocuspointDialog();">
								    	<md-tooltip md-direction="left">
								      	{{'settings.post.FOUCUS_POINT' | translate}}
								  		</md-tooltip>
								    	<i class="mdi mdi2-image-filter-center-focus i-20"></i>
								    </md-button>
								    <!-- <md-button aria-label="Add Group" class="md-fab md-raised md-mini">
								    	<md-tooltip md-direction="left">
								      	{{'settings.post.IMAGE_LIBRARY' | translate}}
								    								  		</md-tooltip>
								    	<i class="mdi mdi2-folder-image i-20"></i>
								    </md-button> -->
								    <md-button aria-label="Add Group" class="md-fab md-raised md-mini" ng-click="removeFeaturedImage()">
								    	<md-tooltip md-direction="left">
								      	{{'settings.post.REMOVE_FEATURED_IMAGE' | translate}}
								  		</md-tooltip>
								    	<i class="mdi mdi2-delete i-20"></i>
								    </md-button>
								  </md-fab-actions>
								</md-fab-speed-dial>
							</div>
							
							<!-- <div id="post-image-container" class="w-full m-h-auto bg-cover md-whiteframe-z1 m-b-md h-400" focus-point ></div> -->

							<!-- main content -->
							<div class="block-800 m-auto p-r p-l" ng-class="{'animated zoomIn': zoomActive}">
								<!-- image speed dial -->
								<div class="media-speed-dial p" ng-if="!postFeaturedImage">
									<div class="lock-size" layout="row" layout-align="center center">
							      <md-button aria-label="menu" class="md-fab md-accent md-mini" ng-click="loadImageConfigFromStorage()">
						      		<md-tooltip md-direction="top">
								      	{{'settings.post.INSERT_FEATURED_IMAGE' | translate}}
								  		</md-tooltip>
									    <i class="mdi mdi2-image-area i-20"></i>
									    <input id="image-upload" type="file" nv-file-select="" uploader="uploader" name="contents" accept="image/*"/>
									  </md-button>
									  <md-button aria-label="menu" class="md-fab md-accent md-mini">
									  	<md-tooltip md-direction="top">
								      	{{'settings.post.INSERT_FEATURED_VIDEO' | translate}}
								  		</md-tooltip>
									    <i class="mdi mdi2-video i-20"></i>
									  </md-button>
									  <md-button aria-label="menu" class="md-fab md-accent md-mini">
									  	<md-tooltip md-direction="top">
								      	{{'settings.post.INSERT_FEATURED_AUDIO' | translate}}
								  		</md-tooltip>
									    <i class="mdi mdi2-microphone i-20"></i>
									  </md-button>
							    </div>
								</div>
								<!-- image speed dial -->
				      	<textarea rows="1" msd-elastic ng-model="app.editingPost.title" placeholder="{{'titles.TITLE' | translate }}" class="font-500 h1 w-full ph-dk p-sm r m-b" style="resize: none; background: transparent; border: none;">
				      	</textarea>

				      	<md-chips ng-model="tags" placeholder="{{'titles.ENTER_TAG' | translate}}" delete-button-label="Remove Tag" delete-hint="Press delete to remove tag" secondary-placeholder="+Tag">
				      	</md-chips>

								<div class="md-whiteframe-z2 m-b-lg"> 
									<textarea id="texteditor" froala="froalaOptions" class="md-whiteframe-z1" ng-model="app.editingPost.body"></textarea>
					      </div>
							</div>
							<!-- /main content -->

						</div> <!-- cell-inner -->
					</div> <!-- cell -->
				</div> <!-- /row-row -->
			</div> <!-- /vbox -->
		</div><!-- /col -->
	</div>
</div> <!-- /abs -->


<md-button aria-label="menu" class="md-fab md-accent pos-fix right-0 bottom-0 m-r-xxl m-b-lg hide">
  <i class="mdi mdi2-eye i-24"></i>
</md-button>

<md-sidenav class="md-background-hue-1 background md-sidenav-right md-whiteframe-z2 w-400" md-component-id="more-options">
  <md-toolbar class="md-theme-light">
    <h1 class="md-toolbar-tools" translate="settings.post.OPTIONS"></h1>
  </md-toolbar>
  <md-content class="pos-abt bottom-0 right-0 left-0 md-background-default background" style="top:64px">
      <div id="post-options-sidebar" class="vbox">
        <div class="p" ng-if="(writableStations && writableStations.length > 0) || app.editingPost.id">
          <span>Estação: <strong>{{app.editingPost.id ? app.editingPost.selectedStation.stationName : ''}}</strong></span>
          <select ng-class="{'hide': app.editingPost.id}" class="form-control m-t-xs" ng-model="app.editingPost.selectedStation" ng-change="selectStation(app.editingPost.selectedStation)"
          ng-options="station as station.stationName for station in writableStations track by station.stationId">
          </select>
          <!--
          <br>
           <dropdown-multiselect ng-if="!app.editingPost.id" model="selectedStations"  options="writableStations"></dropdown-multiselect> -->
        </div>
        <div class="row-row">
          <div class="cell">
            <div class="cell-inner">

              <md-tabs  md-border-bottom class="pos-abt bottom-0 right-0 left-0 top-0">
                <md-tab label="{{'settings.post.CATEGORIES' | translate}}">
                  <md-content >
                    <!-- list categories -->
                    <div class="p-sm term-tree">
                      <div class="span5 article-tree animated fadeIn">
                        <div ng-style="{'overflow': 'auto'}">
                          <div class="tree well">
                            <ul>
                              <node-tree ng-model="termTree"></node-tree>
                            </ul>
                          </div>
                        </div>
                      </div>
                    </div>
                    <!-- list categories -->
                  </md-content>
                </md-tab>

                <md-tab label="{{'settings.post.PREFERENCES' | translate}}">
                  <md-content class="p">
                    <div>
                      <md-checkbox ng-model="landscape" ng-change="landscape = !landscape; toggleLandscape();">
                        {{'settings.post.TOGGLE_LANDSCAPE' | translate}}
                      </md-checkbox>
                    </div>
                    <div>
                      <md-checkbox ng-model="app.editingPost.selectedStation.topper">
                        Chapéu
                      </md-checkbox>
                    </div>
                    <div>
                      <md-checkbox ng-model="app.editingPost.selectedStation.subheading">
                        Subtítulo
                      </md-checkbox>
                    </div>
                    <div>
                      <md-checkbox ng-model="app.editingPost.notify">
                        Notificar usuários
                      </md-checkbox>
                    </div>
                  </md-content>
                </md-tab>
              </md-tabs>

            </div>
          </div>
        </div>
        <div md-ink-ripple angular-ripple class="pointer p text-center text-u-c font-bold" ng-click="showMoreOptions($event)"
        translate="titles.PUBLISH">
          Publicar
        </div>
      </div>

    </md-content>
</md-sidenav>

<script type="text/ng-template" id="clear-post-dialog.html">
	<md-dialog-content layout="row" layout-wrap>
		<div layout="column" layout-align="start center">
			<md-toolbar layout-align="start start" flex class="md-warn text-center p" layout="column">
				<div class="p-t-sm p-b-sm"><i class="mdi mdi2-alert text-2x"></i></div>
	        </md-toolbar>
	    </div>
		<div class="p-sm">
			<div class="text-md p block-400 text-center">
				{{'settings.post.messages.CLEAR_CONTENT_MSG' | translate }}
				<span ng-if="app.editingPost.id">
					{{'settings.post.messages.NEW_POST_MSG' | translate}}
				</span>
				{{'settings.post.messages.CONTENT_LOST_ALERT' | translate}}
			</div>
			<!-- <md-dialog-actions layout="row">
			            	<span flex></span>
				<md-button ng-click="app.clearPostContent();" class="m-0">
					{{'settings.post.CLEAR_CONTENT' | translate}}
				</md-button>
			</md-dialog-actions> -->
			<div class="text-center p-t">
				<md-button ng-click="app.cancelDialog();" class="m-0">
					{{'titles.CANCEL' | translate}}
				</md-button>
				<md-button ng-click="app.clearPostContent();" class="m-0">
					{{'settings.post.CLEAR_CONTENT' | translate}}
				</md-button>
				<md-button class="m-0">
					{{'settings.post.NEW_POST' | translate}}
				</md-button>
			</div>
		</div>
	</md-dialog-content>
</script>